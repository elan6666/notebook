这是 **FastAPI 后端开发实战** 系列的 **Phase 0**。这一阶段不写一行业务代码，而是专注于**打造一个坚不可摧的开发环境**。

很多人学 Python 第一步就被环境配置劝退：_“为什么我装了库却提示找不到？”_、_“为什么我有两个 Python？”_。

今天这 **第 1 讲**，我们将彻底解决 Windows 下的这些“隐形坑”，让你拥有一套专业、可复现的命令行底座。

--------------------------------------------------------------------------------

Phase 0 · 第 1 讲：Windows 环境底座与避坑指南 (1/3)

🎯 本讲目标

1. **告别图形界面依赖**：在 PowerShell 中自如地运行命令。

2. **驯服 Python 版本**：理解 `py` 和 `python` 的区别，彻底解决“找不到命令”的恐慌。

3. **点亮技能树**：验证 Git 和 Pip 是否就绪（这是后续安装 FastAPI 的前提）。

--------------------------------------------------------------------------------

1. 扔掉 CMD，拥抱 PowerShell

**为什么要换工具？** 老旧的 `cmd.exe`（命令提示符）功能太弱。现代后端开发（包括 FastAPI、Docker、部署脚本）都更依赖 **PowerShell** 或 **Windows Terminal**。

🛠️ 手把手操作

1. 按下键盘上的 **Win** **键**（微软徽标键）。

2. 直接输入 `PowerShell`。

3. 选择 **Windows PowerShell** 打开。

    ◦ _(进阶推荐：如果你在微软商店安装了_ **Windows Terminal**_，请直接打开它，体验会更好，但普通的 PowerShell 足够我们使用了。)_

**💡 为什么后端开发离不开命令行？** 虽然鼠标点点很方便，但命令行是**可复现**的。

• 你遇到报错，把报错信息截图发群里，大神可能看不清；但你把命令行里的错误日志复制出来，问题通常能秒解。

• 未来我们要写的自动化部署脚本（CI/CD），本质上就是一堆按顺序执行的命令行指令。

--------------------------------------------------------------------------------

2. Python 的“真假美猴王”：`py` vs `python`

在 Windows 上，很多新手最大的痛点是安装了 Python 却在命令行里敲不出来，或者装了多个版本乱套了。

🛠️ 手把手操作

请在刚才打开的 PowerShell 窗口中，依次输入以下命令并回车：

```
py -V
```

_(注意：__V_ _是大写)_

然后输入：

```
python -V
```

🧠 原理深挖

你可能会发现这两个命令都能用，或者其中一个报错。它们的区别至关重要：

• **python**：这是直接调用 `python.exe`。它完全依赖于你的 **系统环境变量 (PATH)** 配置是否正确。如果你的 PATH 乱了，或者没勾选 "Add Python to PATH"，这个命令就会失效。

• **py**：这是 **Windows Python Launcher (启动器)**。只要你通过官网安装包安装过 Python，它就会自动存在。**它非常智能**，能自动找到电脑里安装的最新版 Python，而不依赖脆弱的 PATH 配置。

**✅ 结论**：在 Windows 做开发，养成习惯使用 **py** 开头的命令（比如 `py main.py`），能帮你避开 90% 的环境配置坑。

--------------------------------------------------------------------------------

3. 解密 PATH：为什么电脑“找不到”命令？

当你输入 `python` 时，Windows 其实是在做一个“寻宝游戏”。

它会去一个叫 **PATH** 的清单里，按顺序查找有没有哪个文件夹里包含 `python.exe`。如果找遍了清单里的文件夹都没找到，它就会报错：“不是内部或外部命令”。

🛠️ 手把手操作

我们来看看你的系统到底在用哪个 Python。输入：

```
where python
```

和

```
where py
```

• 如果 `where python` 输出了多个路径（比如一个在 Anaconda 里，一个在 Python310 里），说明你的环境可能存在冲突风险。

• `where py` 通常只会指向 `C:\Windows\py.exe`，这就是它稳定的原因。

--------------------------------------------------------------------------------

4. Pip：你的军火库管理员

FastAPI 不是 Python 自带的，我们需要用 `pip` 去下载安装它。

🛠️ 手把手操作

验证你的 pip 是否正常工作：

```
py -m pip -V
```

🧠 为什么要加 `py -m`？

你可能习惯直接敲 `pip install ...`，但在多版本共存的电脑上，直接敲 `pip` 很可能把库装到了错误的地方（比如装到了 Python 3.8 里，但你运行代码却用的 Python 3.10）。

• **py -m pip** 的意思是：**“喂，Python (py)，请运行你自带的模块 (-m) pip。”**

• 这样能**绝对保证**你安装的库（比如 FastAPI），一定是为了当前这个 Python 环境服务的。

--------------------------------------------------------------------------------

5. Git：程序员的后悔药

Git 是版本控制系统，它能记录你代码的每一次修改。做 FastAPI 项目，Git 是必不可少的工具。

🛠️ 手把手操作

检查 Git 是否安装：

```
git --version
```

• **如果出现版本号**（如 `git version 2.40.0.windows.1`）：恭喜，过关！

• **如果报错**：请前往 [git-scm.com](https://www.google.com/url?sa=E&q=https%3A%2F%2Fgit-scm.com%2Fdownloads) 下载并安装 "Git for Windows"。安装时一路点 Next 即可。

--------------------------------------------------------------------------------

✅ 本讲作业（Checklist）

为了确保你的底座已经打好，请在 PowerShell 里依次执行这 6 条命令，并观察输出结果是否正常（没有红字报错）：

1. `py -V` (确认 Python 版本)

2. `python -V` (确认系统默认 Python，如果报错也没关系，只要上一条能用就行)

3. `where python` (查看路径)

4. `where py` (查看启动器路径)

5. `py -m pip -V` (确认 pip 可用)

6. `git --version` (确认 Git 可用)

--------------------------------------------------------------------------------

⏭️ 下一讲预告

**Phase 0 · 第 2 讲：给代码建个“无菌室”——虚拟环境 venv**

环境通了，但这还不够。直接在系统里装包是大忌！ 下一讲，我们将教你如何使用 **venv** 创建隔离环境，这是专业 Python 开发者的标准操作。我们将亲手安装 FastAPI 并生成你的第一份依赖清单 `requirements.txt`。

准备好了吗？让我们下节课见！