1 取样是随机取样，没有考虑细胞类型

E:\CODE\scouter\scouter-master\scouter-master\scouter\_datasets.py：
第55行
self.CtrlCellIndx = self._GetCtrlIndx(self.n_pert_cells) 

2 训练是细胞-细胞，评估是平均层面（对于某条件，随机取样300个control，推理再取平均）

评估：E:\CODE\scouter\scouter-master\scouter-master\scouter\Scouter.py
第356行：

pred = self.pred([condition])[condition][:, degs].mean(axis=0)

            ctrl = self.ctrl_adata.X.toarray()[:, degs].mean(axis=0)

            true = self.all_adata[self.all_adata.obs[self.key_label]==condition].X.toarray()[:, degs].mean(axis=0)


3 同一个样本在训练时，监督值可能不同

E:\CODE\scouter\scouter-master\scouter-master\scouter\_datasets.py：

第61行：
# 随机打乱索引（如指定）

        if shuffle:

            np.random.shuffle(self.PertCellIndx)

            np.random.shuffle(self.CtrlCellIndx)